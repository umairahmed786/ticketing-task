<div class="container mt-4 table-responsive">
  <table class="table table-hover table-striped">
    <thead>
      <tr>
        <th scope="col"><%= t('title') %></th>
        <th scope="col"><%= t('project.description') %></th>
        <th scope="col"><%= t('project.project_manager') %></th>
        <th scope="col"><%= t('project_name') %></th>
        <th scope="col"><%= t('issue_assignee') %></th>
        <th scope="col"> <%= t('complexity_point') %> </th>
        <th scope="col"> <%= t('state') %> </th>
        <th scope="col"><%= t('actions') %></th>
      </tr>
    </thead>
    <tbody class="table-group-divider">
      <% @issues.find_each do |issue| %>
        <tr>
          <td><%= issue.title %></td>
          <td class="description" ><%= issue.description %></td>
          <td><%= issue.project.project_manager.name %></td>
          <td><%= issue.project.title %></td>
          <td><%= issue.assignee.name %></td>
          <td><%= issue.complexity_point %></td>
          <td><%= issue.state %></td>

          <td>
            <%= link_to project_issue_path(issue.project_id, issue), class: 'btn btn-primary btn-sm', title: 'Show', data: { toggle: 'tooltip' } do %>
              <i class="fas fa-eye"></i>
            <% end %>
            <%= link_to edit_project_issue_path(issue.project_id, issue), class: 'btn btn-warning btn-sm', title: 'Edit', data: { toggle: 'tooltip' } do %>
              <i class="fas fa-edit"></i>
            <% end %>
            <%= link_to project_issue_path(issue.project_id, issue), method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger btn-sm', title: 'Delete', data: { toggle: 'tooltip' } do %>
              <i class="fas fa-trash-alt"></i>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <%= will_paginate @issues, renderer: BootstrapPaginationRenderer %>
</div>

<script>
  // Initialize Bootstrap tooltips
  document.addEventListener('DOMContentLoaded', function () {
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
      return new bootstrap.Tooltip(tooltipTriggerEl)
    })
  });
</script>

