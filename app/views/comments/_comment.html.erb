<ol class="list-unstyled">
  <% @issue_comments.each do |comment| %>
      <li class="mb-4">
        <div class="card">
          <div class="card-body">
            <!-- Header with User and Delete Button -->
            <div class="d-flex justify-content-between align-items-center mb-3">
              <h5 class="mt-0 mb-1">
                <%= comment.issue_history.user.name %>
              </h5>
              <!-- Delete icon -->
              <%= link_to project_issue_comment_path(@issue.project, @issue, comment), method: :delete, data: { confirm: "Are you sure to delete the comment?" }, class: "text-danger" do %>
                <i class="fas fa-trash-alt"></i>
              <% end %>
            </div>
            <!-- Comment Content -->
            <p class="card-text mb-2">
              <%= comment.content %>
            </p>

            <!-- Display attached files if present -->
            <% if comment.files.attached? %>
              <div class="mb-2">
                <strong>Attachments:</strong>
                <div class="d-flex flex-wrap">
                  <% comment.files.each do |file| %>
                    <div class="me-2 mb-2">
                      <%= link_to file.filename.to_s, url_for(file), class: "btn btn-link" %>
                    </div>
                  <% end %>
                </div>
              </div>
            <% end %>

            <!-- Timestamp -->
            <small class="text-muted"><%= time_ago_in_words(comment.created_at) %> ago</small>
          </div>
        </div>
      </li>
    <% end %>
</ol>

<div class="d-flex justify-content-center mt-4">
  <%= will_paginate @issue_comments, param_name: 'comments_card', renderer: BootstrapPaginationRenderer %>
</div>


