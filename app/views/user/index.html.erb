<div class="container table-responsive">
  <% if @users.empty? %>
    <div class="min-vh-100 d-flex align-items-center justify-content-center">
      <img src="<%= asset_path('no_record_found.gif') %>" alt="No data found" class="img-fluid">
    </div>
  <% else %>
    <table class="table mt-5 table-hover table-striped">
      <thead>
        <tr>
          <th scope="col"><%= t('hash') %></th>
          <th scope="col"><%= t('name') %></th>
          <th scope="col"><%= t('email') %></th>
          <th scope="col"><%= t('role') %></th>
          <th scope="col"><%= t('projects_assigned_number') %></th>
          <th scope="col"><%= t('actions') %></th>
        </tr>
      </thead>
      <tbody class="table-group-divider">
        <% @users.each_with_index do |user, index| %>
          <tr>
            <th scope="row"><%= index + 1 %></th>
            <td><%= user.name %></td>
            <td><%= user.email %></td>
            <td><%= user.role.name %></td>
            <td><%= user.total_projects_count %></td>
            <td>
              <div class="btn-group" role="group" aria-label="User Actions">
                <%= link_to edit_user_profile_user_path(user), class: 'btn btn-warning btn-sm me-2', title: 'Edit', data: { toggle: 'tooltip' } do %>
                  <i class="fas fa-edit"></i>
                <% end %>
                <%= button_to user_path(user), method: :delete, data: { confirm: t('confirmation_message') }, class: 'btn btn-danger btn-sm', title: 'Delete', data: { toggle: 'tooltip' } do %>
                  <i class="fas fa-trash-alt"></i>
                <% end %>
              </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
    <%= will_paginate @users, renderer: BootstrapPaginationRenderer %>
  <% end %>
</div>

<script>
  // Initialize Bootstrap tooltips
  document.addEventListener('DOMContentLoaded', function () {
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
      return new bootstrap.Tooltip(tooltipTriggerEl)
    })
  });
</script>